<div class="form-row">
    <div class="col-auto">
        <select class='custom-select custom-select-sm' [disabled]='!isEnabled'
            [(ngModel)]='selectedContainer' [compareWith]='compareContainers' (change)='onContainerSelected($event)'>
            <option *ngFor='let container of containers' [ngValue]='container'>
                {{container.Name}}
            </option>
        </select>
    </div>
    <div class="col-auto btn-group">
        <button class="btn btn-light py-0 px-0 mx-1" data-toggle="modal" data-target="#newContainerModal" [disabled]="!isLoggedIn">
            <span data-toggle="tooltip" title="Create Container" class="fas fa-database fa-2x"></span>
        </button>
        <button class="btn btn-light py-0 px-0 mx-1" data-toggle="modal" [disabled]='!isContainerSelected' data-target="#deleteContainerModal">
            <span data-toggle="tooltip" title="Delete Container" class="fas fa-trash-alt fa-2x"></span>
        </button>
    </div>
</div>

<!-- Error Modal -->
<div class="modal" id="errorModal">
    <div class="modal-dialog">
        <div class="modal-content">

            <!-- Modal Header -->
            <div class="modal-header">
                <h4 class="modal-title">Error</h4>
                <button type="button" #closeerrormodalbutton class="close" data-dismiss="modal">&times;</button>
            </div>

            <!-- Modal body -->
            <div class="modal-body">
                <div class="alert alert-danger">
                    {{errorMessage}}
                </div>
            </div>

            <!-- Modal footer -->
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" data-dismiss="modal">OK</button>
            </div>
        </div>
    </div>
</div>

<!-- New Container -->
<div class="modal" id="newContainerModal">
    <div class="modal-dialog">
        <div class="modal-content">

            <!-- Modal Header -->
            <div class="modal-header">
                <h4 class="modal-title">New Container</h4>
                <button type="button" #closenewcontainermodalbutton class="close" data-dismiss="modal">&times;</button>
            </div>

            <!-- Modal body -->
            <form #newcontainerform>
                <div class="modal-body">
                    <div class="form-group">
                        <label for="containername">Container Name</label>
                        <input type="text" id="containername" name="containername" #containername="ngModel"
                            class="form-control" required [(ngModel)]="containerName" />
                        <div [hidden]="containername.valid || containername.pristine" class="alert alert-danger">
                            Container Name Is Required
                        </div>
                    </div>
                </div>
            </form>

            <!-- Modal footer -->
            <div class="modal-footer">
                <button type="button" class="btn btn-primary" (click)="createContainer(newcontainerform)">Create Container
                    <span *ngIf="creatingContainer" class="spinner-border spinner-border-sm"></span>
                </button>
                <button type="button" class="btn btn-danger" data-dismiss="modal">Cancel</button>
            </div>
        </div>
    </div>
</div>

<!-- Delete Container -->
<div class="modal" id="deleteContainerModal">
    <div class="modal-dialog">
        <div class="modal-content">

            <!-- Modal Header -->
            <div class="modal-header">
                <h4 class="modal-title">Delete Container</h4>
                <button type="button" #closedeletecontainermodalbutton class="close" data-dismiss="modal">&times;</button>
            </div>

            <!-- Modal body -->
            <div class="modal-body">
                <div class="alert alert-danger">
                    Are you sure you want to delete container {{selectedContainer.Name}}?
                </div>
            </div>

            <!-- Modal footer -->
            <div class="modal-footer">
                <button type="button" class="btn btn-danger" (click)="deleteContainer()" [disabled]='deletingContainer'>Yes, Delete Container
                    <span *ngIf="deletingContainer" class="spinner-border spinner-border-sm"></span>
                </button>
                <button type="button" class="btn btn-primary" data-dismiss='modal' [disabled]="deletingContainer">Cancel</button>
            </div>
        </div>
    </div>
</div>